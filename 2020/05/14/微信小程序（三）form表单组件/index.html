<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<meta name="baidu-site-verification" content="s8Pe1TBqyy" />
<script>
    (function(){
        if('xiaochengxu'){
            if (prompt('请输入文章密码') !== 'xiaochengxu'){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next-wu.jpg?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next-wu.jpg?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="hide,button," />





  <link rel="alternate" href="/atom.xml" title="鮀城小帅" type="application/atom+xml" />






<meta name="description" content="form组件from 组件 - button 的使用button基础库 1.0.0 开始支持，低版本需做兼容处理。 按钮。    属性 类型 默认值 必填 说明 最低版本    size string default 否 按钮的大小 1.0.0   type string default 否 按钮的样式类型 1.0.0   plain boolean false 否 按钮是否镂空，背景色透明 1.">
<meta property="og:type" content="article">
<meta property="og:title" content="微信小程序（三）form表单组件">
<meta property="og:url" content="http://blog.wushaopei.com/2020/05/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%88%E4%B8%89%EF%BC%89form%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/index.html">
<meta property="og:site_name" content="鮀城小帅">
<meta property="og:description" content="form组件from 组件 - button 的使用button基础库 1.0.0 开始支持，低版本需做兼容处理。 按钮。    属性 类型 默认值 必填 说明 最低版本    size string default 否 按钮的大小 1.0.0   type string default 否 按钮的样式类型 1.0.0   plain boolean false 否 按钮是否镂空，背景色透明 1.">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu643.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu644.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu645.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu646.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu647.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu648.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu649.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu650.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu651.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu652.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu653.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu654.png">
<meta property="og:image" content="http://photo.wushaopei.com/qiniu666.png">
<meta property="og:image" content="http://photo.wushaopei.com/weixinbanner.jpg">
<meta property="article:published_time" content="2020-05-14T11:17:10.000Z">
<meta property="article:modified_time" content="2020-06-19T08:23:31.569Z">
<meta property="article:author" content="吴少培">
<meta property="article:tag" content="hide">
<meta property="article:tag" content="button">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://photo.wushaopei.com/qiniu643.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.wushaopei.com/2020/05/14/微信小程序（三）form表单组件/"/>





  <title>微信小程序（三）form表单组件 | 鮀城小帅</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>



<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">



  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>


    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">鮀城小帅</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">总要扛起一片心中的天</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-首页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-归档">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-分类">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-热度">
          <a href="/top/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-signal"></i> <br />
            
            热度
          </a>
        </li>
      
        
        <li class="menu-item menu-item-关于">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-公益">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益
          </a>
        </li>
      
        
        <li class="menu-item menu-item-说说">
          <a href="/shuoshuo/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />
            
            说说
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>




 </div>
    </header>
    <a href="https://github.com/wushaopei" class="github-corner" target="_blank" title="Follow me on GitHub" aria-label="Follow me on GitHub">
      <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#222; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
  <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
      </svg>
</a>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.wushaopei.com/2020/05/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%88%E4%B8%89%EF%BC%89form%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="吴少培">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鮀城小帅">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">微信小程序（三）form表单组件</h1>
        

        <div class="post-meta">
		  
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-14T19:17:10+08:00">
                2020-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" itemprop="url" rel="index">
                    <span itemprop="name">微信小程序</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/05/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%88%E4%B8%89%EF%BC%89form%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/05/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%88%E4%B8%89%EF%BC%89form%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/05/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%88%E4%B8%89%EF%BC%89form%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/" class="leancloud_visitors" data-flag-title="微信小程序（三）form表单组件">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>  阅读数
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="form组件"><a href="#form组件" class="headerlink" title="form组件"></a>form组件</h2><h3 id="from-组件-button-的使用"><a href="#from-组件-button-的使用" class="headerlink" title="from 组件 - button 的使用"></a>from 组件 - button 的使用</h3><h4 id="button"><a href="#button" class="headerlink" title="button"></a><strong>button</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>按钮。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>size</td>
<td>string</td>
<td>default</td>
<td>否</td>
<td>按钮的大小</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>default</td>
<td>否</td>
<td>按钮的样式类型</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>plain</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>按钮是否镂空，背景色透明</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否禁用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>loading</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>名称前是否带 loading 图标</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>form-type</td>
<td>string</td>
<td></td>
<td>否</td>
<td>用于 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/form.html" target="_blank" rel="noopener">form</a> 组件，点击分别会触发 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/form.html" target="_blank" rel="noopener">form</a> 组件的 submit/reset 事件</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>open-type</td>
<td>string</td>
<td></td>
<td>否</td>
<td>微信开放能力</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.1.0</a></td>
</tr>
<tr>
<td>hover-class</td>
<td>string</td>
<td>button-hover</td>
<td>否</td>
<td>指定按钮按下去的样式类。当 hover-class=”none” 时，没有点击态效果</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>hover-stop-propagation</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>指定是否阻止本节点的祖先节点出现点击态</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>hover-start-time</td>
<td>number</td>
<td>20</td>
<td>否</td>
<td>按住后多久出现点击态，单位毫秒</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>hover-stay-time</td>
<td>number</td>
<td>70</td>
<td>否</td>
<td>手指松开后点击态保留时间，单位毫秒</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>en</td>
<td>否</td>
<td>指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文。</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.3.0</a></td>
</tr>
<tr>
<td>session-from</td>
<td>string</td>
<td></td>
<td>否</td>
<td>会话来源，open-type=”contact”时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.4.0</a></td>
</tr>
<tr>
<td>send-message-title</td>
<td>string</td>
<td>当前标题</td>
<td>否</td>
<td>会话内消息卡片标题，open-type=”contact”时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>send-message-path</td>
<td>string</td>
<td>当前分享路径</td>
<td>否</td>
<td>会话内消息卡片点击跳转小程序路径，open-type=”contact”时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>send-message-img</td>
<td>string</td>
<td>截图</td>
<td>否</td>
<td>会话内消息卡片图片，open-type=”contact”时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>app-parameter</td>
<td>string</td>
<td></td>
<td>否</td>
<td>打开 APP 时，向 APP 传递的参数，open-type=launchApp时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.5</a></td>
</tr>
<tr>
<td>show-message-card</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否显示会话内消息卡片，设置此参数为 true，用户进入客服会话会在右下角显示”可能要发送的小程序”提示，用户点击后可以快速发送小程序消息，open-type=”contact”时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>bindgetuserinfo</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>用户点击该按钮时，会返回获取到的用户信息，回调的detail数据与<a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/wx.getUserInfo.html" target="_blank" rel="noopener">wx.getUserInfo</a>返回的一致，open-type=”getUserInfo”时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.3.0</a></td>
</tr>
<tr>
<td>bindcontact</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>客服消息回调，open-type=”contact”时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>bindgetphonenumber</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>获取用户手机号回调，open-type=getPhoneNumber时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.2.0</a></td>
</tr>
<tr>
<td>binderror</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>当使用开放能力时，发生错误的回调，open-type=launchApp时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.5</a></td>
</tr>
<tr>
<td>bindopensetting</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>在打开授权设置页后回调，open-type=openSetting时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>bindlaunchapp</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>打开 APP 成功的回调，open-type=launchApp时有效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.4.4</a></td>
</tr>
</tbody></table>
<p><strong>size 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>default</td>
<td>默认大小</td>
<td></td>
</tr>
<tr>
<td>mini</td>
<td>小尺寸</td>
<td></td>
</tr>
</tbody></table>
<p><strong>type 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>primary</td>
<td>绿色</td>
<td></td>
</tr>
<tr>
<td>default</td>
<td>白色</td>
<td></td>
</tr>
<tr>
<td>warn</td>
<td>红色</td>
<td></td>
</tr>
</tbody></table>
<p><strong>form-type 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>submit</td>
<td>提交表单</td>
<td></td>
</tr>
<tr>
<td>reset</td>
<td>重置表单</td>
<td></td>
</tr>
</tbody></table>
<p><strong>open-type 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>contact</td>
<td>打开客服会话，如果用户在会话中点击消息卡片后返回小程序，可以从 bindcontact 回调中获得具体信息，<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/customer-message/customer-message.html" target="_blank" rel="noopener">具体说明</a></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.1.0</a></td>
</tr>
<tr>
<td>share</td>
<td>触发用户转发，使用前建议先阅读<a href="#%E4%BD%BF%E7%94%A8%E6%8C%87%E5%BC%95">使用指引</a></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.2.0</a></td>
</tr>
<tr>
<td>getPhoneNumber</td>
<td>获取用户手机号，可以从bindgetphonenumber回调中获取到用户信息，<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/getPhoneNumber.html" target="_blank" rel="noopener">具体说明</a></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.2.0</a></td>
</tr>
<tr>
<td>getUserInfo</td>
<td>获取用户信息，可以从bindgetuserinfo回调中获取到用户信息</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.3.0</a></td>
</tr>
<tr>
<td>launchApp</td>
<td>打开APP，可以通过app-parameter属性设定向APP传的参数<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/launchApp.html" target="_blank" rel="noopener">具体说明</a></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.5</a></td>
</tr>
<tr>
<td>openSetting</td>
<td>打开授权设置页</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>feedback</td>
<td>打开“意见反馈”页面，用户可提交反馈内容并上传<a href="https://developers.weixin.qq.com/miniprogram/dev/api/base/debug/wx.getLogManager.html" target="_blank" rel="noopener">日志</a>，开发者可以登录<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener">小程序管理后台</a>后进入左侧菜单“客服反馈”页面获取到反馈内容</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.1.0</a></td>
</tr>
</tbody></table>
<p><strong>lang 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>en</td>
<td>英文</td>
<td></td>
</tr>
<tr>
<td>zh_CN</td>
<td>简体中文</td>
<td></td>
</tr>
<tr>
<td>zh_TW</td>
<td>繁体中文</td>
<td></td>
</tr>
</tbody></table>
<h4 id="Bug-amp-Tip"><a href="#Bug-amp-Tip" class="headerlink" title="Bug &amp; Tip"></a><strong>Bug &amp; Tip</strong></h4><ol>
<li><p>tip: button-hover 默认为{background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}</p>
</li>
<li><p>tip: bindgetphonenumber 从1.2.0 开始支持，但是在1.5.3以下版本中无法使用<a href="https://developers.weixin.qq.com/miniprogram/dev/api/base/wx.canIUse.html" target="_blank" rel="noopener">wx.canIUse</a>进行检测，建议使用基础库版本进行判断。</p>
</li>
<li><p>tip: 在bindgetphonenumber 等返回加密信息的回调中调用 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/login/wx.login.html" target="_blank" rel="noopener">wx.login</a> 登录，可能会刷新登录态。此时服务器使用 code 换取的 sessionKey 不是加密时使用的 sessionKey，导致解密失败。建议开发者提前进行 login；或者在回调中先使用 checkSession 进行登录态检查，避免 login 刷新登录态。</p>
</li>
<li><p>tip: 从 2.1.0 起，button 可作为原生组件的子节点嵌入，以便在原生组件上使用 open-type 的能力。</p>
</li>
<li><p>tip: 目前设置了 form-type 的 button 只会对当前组件中的 form 有效。因而，将 button 封装在自定义组件中，而 from 在自定义组件外，将会使这个 button 的 form-type 失效。</p>
</li>
</ol>
<h4 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/ZHrWZqm66cZy" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/button/button.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"primary"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"default"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"warn"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"primary"</span> <span class="attr">plain</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>按钮</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"warn"</span> <span class="attr">disabled</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"warn"</span> <span class="attr">loading</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"warn"</span> <span class="attr">form-type</span>=<span class="string">"submit"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"warn"</span> <span class="attr">open-type</span>=<span class="string">""</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">"mini"</span> <span class="attr">type</span>=<span class="string">"warn"</span> <span class="attr">hover-class</span>=<span class="string">"none"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu643.png" width="30%">

<hr>
<h3 id="form-组件-checkbox-与-lable"><a href="#form-组件-checkbox-与-lable" class="headerlink" title="form 组件 -  checkbox 与 lable"></a>form 组件 -  checkbox 与 lable</h3><h4 id="checkbox-group"><a href="#checkbox-group" class="headerlink" title="checkbox-group"></a><strong>checkbox-group</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>多项选择器，内部由多个<a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" target="_blank" rel="noopener">checkbox</a>组成。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>否</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox-group.html" target="_blank" rel="noopener">checkbox-group</a>中选中项发生改变时触发 change 事件，detail = {value:[选中的checkbox的value的数组]}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
</tbody></table>
<h4 id="checkbox"><a href="#checkbox" class="headerlink" title="checkbox"></a><strong>checkbox</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>多选项目。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>string</td>
<td></td>
<td>否</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" target="_blank" rel="noopener">checkbox</a>标识，选中时触发<a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox-group.html" target="_blank" rel="noopener">checkbox-group</a>的 change 事件，并携带 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" target="_blank" rel="noopener">checkbox</a> 的 value</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否禁用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>checked</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>当前是否选中，可用来设置默认选中</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>color</td>
<td>string</td>
<td>#09BB07</td>
<td>否</td>
<td>checkbox的颜色，同css的color</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
</tbody></table>
<h5 id="示例代码-1"><a href="#示例代码-1" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h5><p><a href="https://developers.weixin.qq.com/s/hGa3DcmW6qYw" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<h4 id="label"><a href="#label" class="headerlink" title="label"></a><strong>label</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>用来改进表单组件的可用性。</p>
<p>使用for属性找到对应的id，或者将控件放在该标签下，当点击时，就会触发对应的控件。 for优先级高于内部控件，内部有多个控件的时候默认触发第一个控件。 目前可以绑定的控件有：<a href="https://developers.weixin.qq.com/miniprogram/dev/component/button.html" target="_blank" rel="noopener">button</a>, <a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" target="_blank" rel="noopener">checkbox</a>, <a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio.html" target="_blank" rel="noopener">radio</a>, <a href="https://developers.weixin.qq.com/miniprogram/dev/component/switch.html" target="_blank" rel="noopener">switch</a>。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>for</td>
<td>string</td>
<td></td>
<td>否</td>
<td>绑定控件的 id</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
</tbody></table>
<h5 id="示例代码-2"><a href="#示例代码-2" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h5><p><a href="https://developers.weixin.qq.com/s/alak1cmR6JYU" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/checkbox/checkbox.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"中国"</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"美国"</span> <span class="attr">disabled</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>美国<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"法国"</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>法国<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"德国"</span> <span class="attr">color</span>=<span class="string">"#9900cc"</span>&gt;</span>德国<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">id</span>=<span class="string">"&#123;&#123;item.id&#125;&#125;"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;item.name&#125;&#125;"</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;item.checked&#125;&#125;"</span> <span class="attr">color</span>=<span class="string">"&#123;&#123;item.color&#125;&#125;"</span> <span class="attr">disabled</span>=<span class="string">"&#123;&#123;item.disable&#125;&#125;"</span>&gt;</span>&#123;&#123;item.value&#125;&#125;<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"1001"</span>&gt;</span>测试点击<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 页面的初始数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    data: &#123;</span><br><span class="line">        array:[</span><br><span class="line">        &#123; <span class="attr">id</span>:<span class="string">"1001"</span>,<span class="attr">name</span>: <span class="string">"v中国"</span>, <span class="attr">value</span>: <span class="string">"中国"</span>, <span class="attr">checked</span>: <span class="literal">true</span>, <span class="attr">color</span>: <span class="string">"red"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">id</span>: <span class="string">"1002"</span>,<span class="attr">name</span>: <span class="string">"v美国"</span>, <span class="attr">value</span>: <span class="string">"美国"</span>, <span class="attr">checked</span>: <span class="literal">true</span>, <span class="attr">color</span>: <span class="string">"blue"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">id</span>: <span class="string">"1003"</span>,<span class="attr">name</span>: <span class="string">"v俄国"</span>, <span class="attr">value</span>: <span class="string">"俄国"</span>, <span class="attr">checked</span>: <span class="literal">false</span>, <span class="attr">color</span>: <span class="string">"green"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu644.png" width="40%">



<h3 id="form的提交和重置"><a href="#form的提交和重置" class="headerlink" title="form的提交和重置"></a>form的提交和重置</h3><h4 id="form"><a href="#form" class="headerlink" title="form"></a><strong>form</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>表单。将组件内的用户输入的<a href="https://developers.weixin.qq.com/miniprogram/dev/component/switch.html" target="_blank" rel="noopener">switch</a> <a href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html" target="_blank" rel="noopener">input</a> <a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html" target="_blank" rel="noopener">checkbox</a> <a href="https://developers.weixin.qq.com/miniprogram/dev/component/slider.html" target="_blank" rel="noopener">slider</a> <a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio.html" target="_blank" rel="noopener">radio</a> <a href="https://developers.weixin.qq.com/miniprogram/dev/component/picker.html" target="_blank" rel="noopener">picker</a> 提交。</p>
<p>当点击 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/form.html" target="_blank" rel="noopener">form</a> 表单中 form-type 为 submit 的 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/button.html" target="_blank" rel="noopener">button</a> 组件时，会将表单组件中的 value 值进行提交，需要在表单组件中加上 name 来作为 key。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>report-submit</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否返回 formId 用于发送<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/template-message.html" target="_blank" rel="noopener">模板消息</a></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>report-submit-timeout</td>
<td>number</td>
<td>0</td>
<td>否</td>
<td>等待一段时间（毫秒数）以确认 formId 是否生效。如果未指定这个参数，formId 有很小的概率是无效的（如遇到网络失败的情况）。指定这个参数将可以检测 formId 是否有效，以这个参数的时间作为这项检测的超时时间。如果失败，将返回 requestFormId:fail 开头的 formId</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.6.2</a></td>
</tr>
<tr>
<td>bindsubmit</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>携带 form 中的数据触发 submit 事件，event.detail = {value : {‘name’: ‘value’} , formId: ‘’}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindreset</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>表单重置时会触发 reset 事件</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
</tbody></table>
<h4 id="示例代码-3"><a href="#示例代码-3" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p> <a href="https://developers.weixin.qq.com/s/MUaz7cmy6AYq" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/myform/myform.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">bindsubmit</span>=<span class="string">"formSubmit"</span> <span class="attr">bindreset</span>=<span class="string">"formReset"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox-group</span> <span class="attr">name</span>=<span class="string">"aa"</span> <span class="attr">bindchange</span>=<span class="string">"changed"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"美国"</span> <span class="attr">disabled</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>美国<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"法国"</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>法国<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">"德国"</span> <span class="attr">color</span>=<span class="string">"#9900cc"</span>&gt;</span>德国<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox-group</span> <span class="attr">name</span>=<span class="string">"bb"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">id</span>=<span class="string">"&#123;&#123;item.id&#125;&#125;"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;item.name&#125;&#125;"</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;item.checked&#125;&#125;"</span> <span class="attr">color</span>=<span class="string">"&#123;&#123;item.color&#125;&#125;"</span> <span class="attr">disabled</span>=<span class="string">"&#123;&#123;item.disable&#125;&#125;"</span>&gt;</span>&#123;&#123;item.value&#125;&#125;<span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">form-type</span>=<span class="string">"submit"</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">form-type</span>=<span class="string">"reset"</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 页面的初始数据</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">data: &#123;</span><br><span class="line">    array: [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="string">"1001"</span>, <span class="attr">name</span>: <span class="string">"v中国"</span>, <span class="attr">value</span>: <span class="string">"中国"</span>, <span class="attr">checked</span>: <span class="literal">true</span>, <span class="attr">color</span>: <span class="string">"red"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="string">"1002"</span>, <span class="attr">name</span>: <span class="string">"v美国"</span>, <span class="attr">value</span>: <span class="string">"美国"</span>, <span class="attr">checked</span>: <span class="literal">true</span>, <span class="attr">color</span>: <span class="string">"blue"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="string">"1003"</span>, <span class="attr">name</span>: <span class="string">"v俄国"</span>, <span class="attr">value</span>: <span class="string">"俄国"</span>, <span class="attr">checked</span>: <span class="literal">false</span>, <span class="attr">color</span>: <span class="string">"green"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">    &#125;,</span><br><span class="line">    changed:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">debugger</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    formSubmit:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">debugger</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    formReset: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"data has been resetted......."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu645.png" width="100%">

<p> Form 中元素的 name 应该定义在 checkbox-group标签上而不是 checkbox标签上</p>
<h3 id="form-组件-input-文本框（上）"><a href="#form-组件-input-文本框（上）" class="headerlink" title="form 组件 - input 文本框（上）"></a>form 组件 - input 文本框（上）</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a><strong>input</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>输入框。该组件是<a href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html" target="_blank" rel="noopener">原生组件</a>，使用时请注意相关限制</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>string</td>
<td></td>
<td>是</td>
<td>输入框的初始内容</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>text</td>
<td>否</td>
<td>input 的类型</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>password</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否是密码类型</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td></td>
<td>是</td>
<td>输入框为空时占位符</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>placeholder-style</td>
<td>string</td>
<td></td>
<td>是</td>
<td>指定 placeholder 的样式</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>placeholder-class</td>
<td>string</td>
<td>input-placeholder</td>
<td>否</td>
<td>指定 placeholder 的样式类</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否禁用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>maxlength</td>
<td>number</td>
<td>140</td>
<td>否</td>
<td>最大输入长度，设置为 -1 的时候不限制最大长度</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>cursor-spacing</td>
<td>number</td>
<td>0</td>
<td>否</td>
<td>指定光标与键盘的距离，取 input 距离底部的距离和 cursor-spacing 指定的距离的最小值作为光标与键盘的距离</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>auto-focus</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>(即将废弃，请直接使用 focus )自动聚焦，拉起键盘</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>focus</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>获取焦点</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>confirm-type</td>
<td>string</td>
<td>done</td>
<td>否</td>
<td>设置键盘右下角按钮的文字，仅在type=’text’时生效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.1.0</a></td>
</tr>
<tr>
<td>confirm-hold</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>点击键盘右下角按钮时是否保持键盘不收起</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.1.0</a></td>
</tr>
<tr>
<td>cursor</td>
<td>number</td>
<td></td>
<td>是</td>
<td>指定focus时的光标位置</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>selection-start</td>
<td>number</td>
<td>-1</td>
<td>否</td>
<td>光标起始位置，自动聚集时有效，需与selection-end搭配使用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.0</a></td>
</tr>
<tr>
<td>selection-end</td>
<td>number</td>
<td>-1</td>
<td>否</td>
<td>光标结束位置，自动聚集时有效，需与selection-start搭配使用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.0</a></td>
</tr>
<tr>
<td>adjust-position</td>
<td>boolean</td>
<td>true</td>
<td>否</td>
<td>键盘弹起时，是否自动上推页面</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.90</a></td>
</tr>
<tr>
<td>hold-keyboard</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>focus时，点击页面的时候不收起键盘</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.8.2</a></td>
</tr>
<tr>
<td>bindinput</td>
<td>eventhandle</td>
<td></td>
<td>是</td>
<td>键盘输入时触发，event.detail = {value, cursor, keyCode}，keyCode 为键值，2.1.0 起支持，处理函数可以直接 return 一个字符串，将替换输入框的内容。</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindfocus</td>
<td>eventhandle</td>
<td></td>
<td>是</td>
<td>输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度，在基础库 1.9.90 起支持</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindblur</td>
<td>eventhandle</td>
<td></td>
<td>是</td>
<td>输入框失去焦点时触发，event.detail = {value: value}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindconfirm</td>
<td>eventhandle</td>
<td></td>
<td>是</td>
<td>点击完成按钮时触发，event.detail = {value: value}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindkeyboardheightchange</td>
<td>eventhandle</td>
<td></td>
<td>是</td>
<td>键盘高度发生变化的时候触发此事件，event.detail = {height: height, duration: duration}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.7.0</a></td>
</tr>
</tbody></table>
<p><strong>type 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>文本输入键盘</td>
<td></td>
</tr>
<tr>
<td>number</td>
<td>数字输入键盘</td>
<td></td>
</tr>
<tr>
<td>idcard</td>
<td>身份证输入键盘</td>
<td></td>
</tr>
<tr>
<td>digit</td>
<td>带小数点的数字键盘</td>
<td></td>
</tr>
</tbody></table>
<p><strong>confirm-type 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>send</td>
<td>右下角按钮为“发送”</td>
<td></td>
</tr>
<tr>
<td>search</td>
<td>右下角按钮为“搜索”</td>
<td></td>
</tr>
<tr>
<td>next</td>
<td>右下角按钮为“下一个”</td>
<td></td>
</tr>
<tr>
<td>go</td>
<td>右下角按钮为“前往”</td>
<td></td>
</tr>
<tr>
<td>done</td>
<td>右下角按钮为“完成”</td>
<td></td>
</tr>
</tbody></table>
<h4 id="Bug-amp-Tip-1"><a href="#Bug-amp-Tip-1" class="headerlink" title="Bug &amp; Tip"></a><strong>Bug &amp; Tip</strong></h4><ol>
<li><p>tip: confirm-type的最终表现与手机输入法本身的实现有关，部分安卓系统输入法和第三方输入法可能不支持或不完全支持</p>
</li>
<li><p>tip : input 组件是一个原生组件，字体是系统字体，所以无法设置 font-family</p>
</li>
<li><p>tip : 在 input 聚焦期间，避免使用 css 动画</p>
</li>
<li><p>tip : 对于将 input 封装在自定义组件中、而 form 在自定义组件外的情况， form 将不能获得这个自定义组件中 input 的值。此时需要使用自定义组件的 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/behaviors.html" target="_blank" rel="noopener">内置 behaviors</a> wx://form-field</p>
</li>
<li><p>tip : 键盘高度发生变化，keyboardheightchange事件可能会多次触发，开发者对于相同的height值应该忽略掉</p>
</li>
<li><p>bug : 微信版本 6.3.30, focus 属性设置无效</p>
</li>
<li><p>bug : 微信版本 6.3.30, placeholder 在聚焦时出现重影问题</p>
</li>
</ol>
<h4 id="示例代码-4"><a href="#示例代码-4" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/JYwgZ6ml6rYP" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/input/input.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"学习小程序实战"</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"text"</span> <span class="attr">type</span>=<span class="string">"text"</span> &gt;</span>文本输入键盘<span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"number"</span> <span class="attr">type</span>=<span class="string">"number"</span>&gt;</span>数字输入键盘<span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"idcard"</span> <span class="attr">type</span>=<span class="string">"idcard"</span>&gt;</span>身份证输入键盘<span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"digit"</span> <span class="attr">type</span>=<span class="string">"digit"</span>&gt;</span>  带小数点的数字键盘<span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">密码框：<span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"密码框"</span> <span class="attr">password</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">Placeholder:<span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">placeholder</span>=<span class="string">"请输入你的用户名"</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu646.png" width="40%">

<hr>
<h3 id="form-组件-input-文本框（下）"><a href="#form-组件-input-文本框（下）" class="headerlink" title="form 组件 - input 文本框（下）"></a>form 组件 - input 文本框（下）</h3><p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html" target="_blank" rel="noopener">https://developers.weixin.qq.com/miniprogram/dev/component/input.html</a></p>
<h3 id="form-组件-picker-普通选择器"><a href="#form-组件-picker-普通选择器" class="headerlink" title="form 组件 - picker 普通选择器"></a>form 组件 - picker 普通选择器</h3><h4 id="picker"><a href="#picker" class="headerlink" title="picker"></a><strong>picker</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>从底部弹起的滚动选择器。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>header-text</td>
<td>string</td>
<td></td>
<td>否</td>
<td>选择器的标题，仅安卓可用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.11.0</a></td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>selector</td>
<td>否</td>
<td>选择器类型</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否禁用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindcancel</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>取消选择时触发</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.90</a></td>
</tr>
</tbody></table>
<p><strong>mode 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>selector</td>
<td>普通选择器</td>
<td></td>
</tr>
<tr>
<td>multiSelector</td>
<td>多列选择器</td>
<td></td>
</tr>
<tr>
<td>time</td>
<td>时间选择器</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>日期选择器</td>
<td></td>
</tr>
<tr>
<td>region</td>
<td>省市区选择器</td>
<td></td>
</tr>
</tbody></table>
<p>除了上述通用的属性，对于不同的mode，picker拥有不同的属性。</p>
<h4 id="普通选择器：mode-selector"><a href="#普通选择器：mode-selector" class="headerlink" title="普通选择器：mode = selector"></a><strong>普通选择器：mode = selector</strong></h4><table>
<thead>
<tr>
<th><strong>属性名</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>range</td>
<td>array/object array</td>
<td>[]</td>
<td>mode 为 selector 或 multiSelector 时，range 有效</td>
<td></td>
</tr>
<tr>
<td>range-key</td>
<td>string</td>
<td></td>
<td>当 range 是一个 Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>number</td>
<td>0</td>
<td>表示选择了 range 中的第几个（下标从 0 开始）</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>eventhandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value}</td>
<td></td>
</tr>
</tbody></table>
<h4 id="多列选择器：mode-multiSelector"><a href="#多列选择器：mode-multiSelector" class="headerlink" title="多列选择器：mode = multiSelector"></a><strong>多列选择器：mode = multiSelector</strong></h4><table>
<thead>
<tr>
<th><strong>属性名</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>range</td>
<td>array/object array</td>
<td>[]</td>
<td>mode 为 selector 或 multiSelector 时，range 有效</td>
<td></td>
</tr>
<tr>
<td>range-key</td>
<td>string</td>
<td></td>
<td>当 range 是一个 Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>array</td>
<td>[]</td>
<td>表示选择了 range 中的第几个（下标从 0 开始）</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>eventhandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value}</td>
<td></td>
</tr>
<tr>
<td>bindcolumnchange</td>
<td>eventhandle</td>
<td></td>
<td>列改变时触发</td>
<td></td>
</tr>
</tbody></table>
<h4 id="时间选择器：mode-time"><a href="#时间选择器：mode-time" class="headerlink" title="时间选择器：mode = time"></a><strong>时间选择器：mode = time</strong></h4><table>
<thead>
<tr>
<th><strong>属性名</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>string</td>
<td></td>
<td>表示选中的时间，格式为”hh:mm”</td>
<td></td>
</tr>
<tr>
<td>start</td>
<td>string</td>
<td></td>
<td>表示有效时间范围的开始，字符串格式为”hh:mm”</td>
<td></td>
</tr>
<tr>
<td>end</td>
<td>string</td>
<td></td>
<td>表示有效时间范围的结束，字符串格式为”hh:mm”</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>eventhandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value}</td>
<td></td>
</tr>
</tbody></table>
<h4 id="日期选择器：mode-date"><a href="#日期选择器：mode-date" class="headerlink" title="日期选择器：mode = date"></a><strong>日期选择器：mode = date</strong></h4><table>
<thead>
<tr>
<th><strong>属性名</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>string</td>
<td>0</td>
<td>表示选中的日期，格式为”YYYY-MM-DD”</td>
<td></td>
</tr>
<tr>
<td>start</td>
<td>string</td>
<td></td>
<td>表示有效日期范围的开始，字符串格式为”YYYY-MM-DD”</td>
<td></td>
</tr>
<tr>
<td>end</td>
<td>string</td>
<td></td>
<td>表示有效日期范围的结束，字符串格式为”YYYY-MM-DD”</td>
<td></td>
</tr>
<tr>
<td>fields</td>
<td>string</td>
<td>day</td>
<td>有效值 year,month,day，表示选择器的粒度</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>eventhandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value}</td>
<td></td>
</tr>
</tbody></table>
<p><em>fields 有效值：*</em></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>year</td>
<td>选择器粒度为年</td>
</tr>
<tr>
<td>month</td>
<td>选择器粒度为月份</td>
</tr>
<tr>
<td>day</td>
<td>选择器粒度为天</td>
</tr>
</tbody></table>
<h4 id="省市区选择器：mode-region-1-4-0"><a href="#省市区选择器：mode-region-1-4-0" class="headerlink" title="省市区选择器：mode = region 1.4.0"></a><strong>省市区选择器：mode = region</strong> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.4.0</a></h4><table>
<thead>
<tr>
<th><strong>属性名</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>array</td>
<td>[]</td>
<td>表示选中的省市区，默认选中每一列的第一个值</td>
<td></td>
</tr>
<tr>
<td>custom-item</td>
<td>string</td>
<td></td>
<td>可为每一列的顶部添加一个自定义的项</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>bindchange</td>
<td>eventhandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value, code, postcode}，其中字段 code 是统计用区划代码，postcode 是邮政编码</td>
<td></td>
</tr>
</tbody></table>
<h4 id="示例代码-5"><a href="#示例代码-5" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/pZb21cmH6qYX" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/pickeers/pickers.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">picker</span> <span class="attr">mode</span>=<span class="string">"selector"</span> <span class="attr">range</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span>&gt;</span></span><br><span class="line">请选择我</span><br><span class="line"><span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">picker</span> <span class="attr">mode</span>=<span class="string">"selector"</span> <span class="attr">range</span>=<span class="string">"&#123;&#123;arrayObj&#125;&#125;"</span> <span class="attr">range-key</span>=<span class="string">"name"</span></span></span><br><span class="line"><span class="tag"><span class="attr">bindchange</span>=<span class="string">"changeme"</span> <span class="attr">bindcancel</span>=<span class="string">"cancelme"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;showme&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/pickeers/pickers.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 页面的初始数据</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">data: &#123;</span><br><span class="line">    array:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>],</span><br><span class="line">    arrayObj:[</span><br><span class="line">            &#123; <span class="attr">id</span>:<span class="number">1001</span>, <span class="attr">name</span>: <span class="string">"jack"</span>&#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">1002</span>, <span class="attr">name</span>: <span class="string">"tom"</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">1003</span>, <span class="attr">name</span>: <span class="string">"jetty"</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">1004</span>, <span class="attr">name</span>: <span class="string">"hon"</span> &#125;</span><br><span class="line">        ],</span><br><span class="line">       	 showme: <span class="string">"请选择一个人名"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    changeme: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> index = e.detail.value;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"index下标值为："</span>+ index);</span><br><span class="line">    <span class="keyword">var</span> id = <span class="keyword">this</span>.data.arrayObj[index].id;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="keyword">this</span>.data.arrayObj[index].name;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">    showme: id + name</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">    cancelme:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"触发取消事件........."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu647.png" width="40%">

<hr>
<h3 id="form-组件-picker-多列选择器"><a href="#form-组件-picker-多列选择器" class="headerlink" title="form 组件 -  picker 多列选择器"></a>form 组件 -  picker 多列选择器</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"margin-top:100rpx;"</span>&gt;</span>多列选择器<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">picker</span> <span class="attr">mode</span>=<span class="string">"multiSelector"</span> <span class="attr">range</span>=<span class="string">"&#123;&#123;arrayMulti&#125;&#125;"</span>&gt;</span>请选择我<span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">picker</span> <span class="attr">mode</span>=<span class="string">"multiSelector"</span> <span class="attr">range</span>=<span class="string">"&#123;&#123;arrayObjMulti&#125;&#125;"</span> <span class="attr">range-key</span>=<span class="string">"id"</span></span></span><br><span class="line"><span class="tag"><span class="attr">bindchange</span>=<span class="string">"changemeMulti"</span> <span class="attr">bindcolumnchange</span>=<span class="string">"columnchange"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;showme&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">changemeMulti: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> indexs = e.detail.value;</span><br><span class="line">    <span class="keyword">var</span> arrayObjMulti = <span class="keyword">this</span>.data.arrayObjMulti;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; indexs.length; i ++)&#123;</span><br><span class="line">        <span class="keyword">var</span> indexTmp = indexs[i];</span><br><span class="line">        <span class="keyword">var</span> id = arrayObjMulti[i][indexTmp].id;</span><br><span class="line">        <span class="keyword">var</span> name = arrayObjMulti[i][indexTmp].name;</span><br><span class="line">        <span class="built_in">console</span>.log(id + <span class="string">" "</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu648.png" width="60%">

<hr>
<h3 id="form-组件-picker-view"><a href="#form-组件-picker-view" class="headerlink" title="form 组件 - picker-view"></a>form 组件 - picker-view</h3><h4 id="picker-view"><a href="#picker-view" class="headerlink" title="picker-view"></a><strong>picker-view</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>嵌入页面的滚动选择器。其中只可放置 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/picker-view-column.html" target="_blank" rel="noopener">picker-view-column</a>组件，其它节点不会显示。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>Array.<number></td>
<td></td>
<td>否</td>
<td>数组中的数字依次表示 picker-view 内的 picker-view-column 选择的第几项（下标从 0 开始），数字大于 picker-view-column 可选项长度时，选择最后一项。</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>indicator-style</td>
<td>string</td>
<td></td>
<td>否</td>
<td>设置选择器中间选中框的样式</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>indicator-class</td>
<td>string</td>
<td></td>
<td>否</td>
<td>设置选择器中间选中框的类名</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.1.0</a></td>
</tr>
<tr>
<td>mask-style</td>
<td>string</td>
<td></td>
<td>否</td>
<td>设置蒙层的样式</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>mask-class</td>
<td>string</td>
<td></td>
<td>否</td>
<td>设置蒙层的类名</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>bindchange</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>滚动选择时触发change事件，event.detail = {value}；value为数组，表示 picker-view 内的 picker-view-column 当前选择的是第几项（下标从 0 开始）</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindpickstart</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>当滚动选择开始时候触发事件</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.3.1</a></td>
</tr>
<tr>
<td>bindpickend</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>当滚动选择结束时候触发事件</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.3.1</a></td>
</tr>
</tbody></table>
<h4 id="Bug-amp-Tip-2"><a href="#Bug-amp-Tip-2" class="headerlink" title="Bug &amp; Tip"></a><strong>Bug &amp; Tip</strong></h4><ol>
<li>tip: 滚动时在iOS自带振动反馈，可在系统设置 -&gt; 声音与触感 -&gt; 系统触感反馈中关闭</li>
</ol>
<h4 id="示例代码-6"><a href="#示例代码-6" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/YfbJZcmG6zYM" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/pickerview/pickerview.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">picker-view</span> <span class="attr">style</span>=<span class="string">"width:100%;height:250px;"</span> <span class="attr">bindchange</span> = <span class="string">"changeme"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">picker-view-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;year&#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picker-view-column</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">picker-view-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;month&#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picker-view-column</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">picker-view-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;day&#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picker-view-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picker-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;myvalue&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 页面的初始数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    data: &#123;</span><br><span class="line">        year: [<span class="number">2000</span>,<span class="number">2001</span>,<span class="number">2002</span>,<span class="number">2003</span>,<span class="number">2004</span>,<span class="number">2005</span>,<span class="number">2006</span>,<span class="number">2007</span>,<span class="number">2008</span>,<span class="number">2009</span>,<span class="number">2010</span>],</span><br><span class="line">        month: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>],</span><br><span class="line">        day: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>],</span><br><span class="line">        myvalue: <span class="string">"请选择日期"</span></span><br><span class="line">    &#125;,</span><br><span class="line">     changeme: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> indexs = e.detail.value;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> year = <span class="keyword">this</span>.data.year[indexs[<span class="number">0</span>]];</span><br><span class="line">        <span class="keyword">var</span> month = <span class="keyword">this</span>.data.month[indexs[<span class="number">1</span>]];</span><br><span class="line">        <span class="keyword">var</span> day = <span class="keyword">this</span>.data.day[indexs[<span class="number">2</span>]];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        myvalue: year + <span class="string">"年"</span> + month + <span class="string">"月"</span> + day + <span class="string">"日"</span></span><br><span class="line">     &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu649.png" width="60%">



<h3 id="form-组件-radio-单选框"><a href="#form-组件-radio-单选框" class="headerlink" title="form 组件 -  radio 单选框"></a>form 组件 -  radio 单选框</h3><h4 id="radio-group"><a href="#radio-group" class="headerlink" title="radio-group"></a><strong>radio-group</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>单项选择器，内部由多个 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio.html" target="_blank" rel="noopener">radio</a> 组成。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>否</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio-group.html" target="_blank" rel="noopener">radio-group</a>中选中项发生改变时触发 change 事件，detail = {value:[选中的radio的value的数组]}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
</tbody></table>
<h4 id="radio"><a href="#radio" class="headerlink" title="radio"></a><strong>radio</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>单选项目。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>string</td>
<td></td>
<td>否</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio.html" target="_blank" rel="noopener">radio</a> 标识。当该<a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio.html" target="_blank" rel="noopener">radio</a> 选中时，<a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio-group.html" target="_blank" rel="noopener">radio-group</a> 的 change 事件会携带<a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio.html" target="_blank" rel="noopener">radio</a>的value</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>checked</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>当前是否选中</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否禁用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>color</td>
<td>string</td>
<td>#09BB07</td>
<td>否</td>
<td>radio的颜色，同css的color</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
</tbody></table>
<h4 id="示例代码-7"><a href="#示例代码-7" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/tpbv9cmv6HYr" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/radio/radios.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio-group</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>中国<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span> <span class="attr">disabled</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span>美国<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span> <span class="attr">color</span>=<span class="string">"red"</span>&gt;</span>德国<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">radio-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">radio-group</span> <span class="attr">bindchange</span>=<span class="string">"changeme"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">radio</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;item.name&#125;&#125;"</span>&gt;</span>&#123;&#123;item.value&#125;&#125;<span class="tag">&lt;/<span class="name">radio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">radio-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;myvalue&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/radio/radios.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 页面的初始数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    data: &#123;</span><br><span class="line">        array: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">"1001"</span>, <span class="attr">name</span>: <span class="string">"v中国"</span>, <span class="attr">value</span>: <span class="string">"中国"</span>, <span class="attr">checked</span>: <span class="literal">true</span>, <span class="attr">color</span>: <span class="string">"red"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">"1002"</span>, <span class="attr">name</span>: <span class="string">"v美国"</span>, <span class="attr">value</span>: <span class="string">"美国"</span>, <span class="attr">checked</span>: <span class="literal">true</span>, <span class="attr">color</span>: <span class="string">"blue"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">"1003"</span>, <span class="attr">name</span>: <span class="string">"v俄国"</span>, <span class="attr">value</span>: <span class="string">"俄国"</span>, <span class="attr">checked</span>: <span class="literal">false</span>, <span class="attr">color</span>: <span class="string">"green"</span>, <span class="attr">disabled</span>: <span class="literal">false</span> &#125;</span><br><span class="line">        ],</span><br><span class="line">        	myvalue:<span class="string">"请选择一个 radio "</span></span><br><span class="line">        &#125;,</span><br><span class="line">        changeme:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> value = e.detail.value;</span><br><span class="line">            <span class="keyword">this</span>.setData (&#123;</span><br><span class="line">            myvalue: value</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu650.png" width="60%">

<hr>
<h3 id="form-组件-slider-滑动选择器"><a href="#form-组件-slider-滑动选择器" class="headerlink" title="form 组件 - slider 滑动选择器"></a>form 组件 - slider 滑动选择器</h3><h4 id="slider"><a href="#slider" class="headerlink" title="slider"></a><strong>slider</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>滑动选择器。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>min</td>
<td>number</td>
<td>0</td>
<td>否</td>
<td>最小值</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>max</td>
<td>number</td>
<td>100</td>
<td>否</td>
<td>最大值</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>step</td>
<td>number</td>
<td>1</td>
<td>否</td>
<td>步长，取值必须大于 0，并且可被(max - min)整除</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否禁用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>value</td>
<td>number</td>
<td>0</td>
<td>否</td>
<td>当前取值</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>color</td>
<td>color</td>
<td>#e9e9e9</td>
<td>否</td>
<td>背景条的颜色（请使用 backgroundColor）</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>selected-color</td>
<td>color</td>
<td>#1aad19</td>
<td>否</td>
<td>已选择的颜色（请使用 activeColor）</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>activeColor</td>
<td>color</td>
<td>#1aad19</td>
<td>否</td>
<td>已选择的颜色</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>backgroundColor</td>
<td>color</td>
<td>#e9e9e9</td>
<td>否</td>
<td>背景条的颜色</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>block-size</td>
<td>number</td>
<td>28</td>
<td>否</td>
<td>滑块的大小，取值范围为 12 - 28</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.0</a></td>
</tr>
<tr>
<td>block-color</td>
<td>color</td>
<td>#ffffff</td>
<td>否</td>
<td>滑块的颜色</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.0</a></td>
</tr>
<tr>
<td>show-value</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否显示当前 value</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindchange</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>完成一次拖动后触发的事件，event.detail = {value}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindchanging</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>拖动过程中触发的事件，event.detail = {value}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.7.0</a></td>
</tr>
</tbody></table>
<h4 id="示例代码-8"><a href="#示例代码-8" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/3NbqVcm56OYS" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/slider/slider.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slider</span> <span class="attr">min</span>=<span class="string">"10"</span> <span class="attr">max</span>=<span class="string">"90"</span> <span class="attr">show-value</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span> <span class="attr">activeColor</span>=<span class="string">"red"</span> <span class="attr">backgroundColor</span>=<span class="string">"blue"</span> <span class="attr">block-color</span>=<span class="string">"green"</span> <span class="attr">bindchanging</span>=<span class="string">"iamchanging"</span>&gt;</span><span class="tag">&lt;/<span class="name">slider</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"background-color:green;width:100%;height:&#123;&#123;myheight&#125;&#125;;"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/slider/slider.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 页面的初始数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    data: &#123;</span><br><span class="line">        myheight: <span class="string">"500rpx"</span>,</span><br><span class="line">        staticHeight: <span class="number">500</span></span><br><span class="line">   &#125;,</span><br><span class="line">   iamchanging: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">       <span class="keyword">var</span> val = e.detail.value;</span><br><span class="line">       <span class="keyword">var</span> newHeight = <span class="keyword">this</span>.data.staticHeight * (val/<span class="number">100</span>);</span><br><span class="line">       <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">       myheight: newHeight + <span class="string">"rpx"</span></span><br><span class="line">       &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu651.png" width="40%">

<hr>
<h3 id="form-组件-switch-开关"><a href="#form-组件-switch-开关" class="headerlink" title="form 组件 - switch 开关"></a>form 组件 - switch 开关</h3><h4 id="switch"><a href="#switch" class="headerlink" title="switch"></a><strong>switch</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>开关选择器。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>checked</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否选中</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否禁用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>switch</td>
<td>否</td>
<td>样式，有效值：switch, checkbox</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>color</td>
<td>string</td>
<td>#04BE02</td>
<td>否</td>
<td>switch 的颜色，同 css 的 color</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindchange</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>checked 改变时触发 change 事件，event.detail={ value}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
</tbody></table>
<h4 id="Bug-amp-Tip-3"><a href="#Bug-amp-Tip-3" class="headerlink" title="Bug &amp; Tip"></a><strong>Bug &amp; Tip</strong></h4><ol>
<li>tip: switch类型切换时在iOS自带振动反馈，可在系统设置 -&gt; 声音与触感 -&gt; 系统触感反馈中关闭</li>
</ol>
<h4 id="示例代码-9"><a href="#示例代码-9" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/6db9lcmu6VYt" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/switch/switch.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">switch</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span>这是一个开关选择器<span class="tag">&lt;/<span class="name">switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">switch</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span> <span class="attr">color</span>=<span class="string">"red"</span> <span class="attr">bindchange</span>=<span class="string">"changeme"</span>&gt;</span>开关<span class="tag">&lt;/<span class="name">switch</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">"background-color:&#123;&#123;color&#125;&#125;;width:100%;height:700rpx;"</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/switch/switch.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 页面的初始数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    data: &#123;</span><br><span class="line">   	 color: <span class="string">"white"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    changeme: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> flag = e.detail.value;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            <span class="comment">// 开灯</span></span><br><span class="line">            <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">            color: <span class="string">"white"</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 关灯</span></span><br><span class="line">            <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">            color: <span class="string">"black"</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu652.png" width="60%">

<hr>
<h3 id="form-组件-textarea"><a href="#form-组件-textarea" class="headerlink" title="form 组件 - textarea"></a>form 组件 - textarea</h3><h4 id="textarea"><a href="#textarea" class="headerlink" title="textarea"></a><strong>textarea</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>多行输入框。该组件是<a href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html" target="_blank" rel="noopener">原生组件</a>，使用时请注意相关限制。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>string</td>
<td></td>
<td>否</td>
<td>输入框的内容</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td></td>
<td>否</td>
<td>输入框为空时占位符</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>placeholder-style</td>
<td>string</td>
<td></td>
<td>否</td>
<td>指定 placeholder 的样式，目前仅支持color,font-size和font-weight</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>placeholder-class</td>
<td>string</td>
<td>textarea-placeholder</td>
<td>否</td>
<td>指定 placeholder 的样式类</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否禁用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>maxlength</td>
<td>number</td>
<td>140</td>
<td>否</td>
<td>最大输入长度，设置为 -1 的时候不限制最大长度</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>auto-focus</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>自动聚焦，拉起键盘。</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>focus</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>获取焦点</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>auto-height</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否自动增高，设置auto-height时，style.height不生效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>fixed</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>如果 textarea 是在一个 position:fixed 的区域，需要显示指定属性 fixed 为 true</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>cursor-spacing</td>
<td>number</td>
<td>0</td>
<td>否</td>
<td>指定光标与键盘的距离。取textarea距离底部的距离和cursor-spacing指定的距离的最小值作为光标与键盘的距离</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>cursor</td>
<td>number</td>
<td>-1</td>
<td>否</td>
<td>指定focus时的光标位置</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>show-confirm-bar</td>
<td>boolean</td>
<td>true</td>
<td>否</td>
<td>是否显示键盘上方带有”完成“按钮那一栏</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.6.0</a></td>
</tr>
<tr>
<td>selection-start</td>
<td>number</td>
<td>-1</td>
<td>否</td>
<td>光标起始位置，自动聚集时有效，需与selection-end搭配使用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.0</a></td>
</tr>
<tr>
<td>selection-end</td>
<td>number</td>
<td>-1</td>
<td>否</td>
<td>光标结束位置，自动聚集时有效，需与selection-start搭配使用</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.0</a></td>
</tr>
<tr>
<td>adjust-position</td>
<td>boolean</td>
<td>true</td>
<td>否</td>
<td>键盘弹起时，是否自动上推页面</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.9.90</a></td>
</tr>
<tr>
<td>hold-keyboard</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>focus时，点击页面的时候不收起键盘</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.8.2</a></td>
</tr>
<tr>
<td>disable-default-padding</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>是否去掉 iOS 下的默认内边距</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.10.0</a></td>
</tr>
<tr>
<td>bindfocus</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度，在基础库 1.9.90 起支持</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindblur</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>输入框失去焦点时触发，event.detail = {value, cursor}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindlinechange</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>输入框行数变化时调用，event.detail = {height: 0, heightRpx: 0, lineCount: 0}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindinput</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>当键盘输入时，触发 input 事件，event.detail = {value, cursor, keyCode}，keyCode 为键值，目前工具还不支持返回keyCode参数。<strong>bindinput 处理函数的返回值并不会反映到 textarea 上</strong></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindconfirm</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>点击完成时， 触发 confirm 事件，event.detail = {value: value}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindkeyboardheightchange</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>键盘高度发生变化的时候触发此事件，event.detail = {height: height, duration: duration}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.7.0</a></td>
</tr>
</tbody></table>
<h4 id="Bug-amp-Tip-4"><a href="#Bug-amp-Tip-4" class="headerlink" title="Bug &amp; Tip"></a><strong>Bug &amp; Tip</strong></h4><ol>
<li><p>tip: textarea 的 blur 事件会晚于页面上的 tap 事件，如果需要在 button 的点击事件获取 textarea，可以使用 form 的 bindsubmit。</p>
</li>
<li><p>tip: 不建议在多行文本上对用户的输入进行修改，所以 textarea 的 bindinput 处理函数并不会将返回值反映到 textarea 上。</p>
</li>
<li><p>tip : 键盘高度发生变化，keyboardheightchange事件可能会多次触发，开发者对于相同的height值应该忽略掉</p>
</li>
<li><p>bug: 微信版本 6.3.30，textarea 在列表渲染时，新增加的 textarea 在自动聚焦时的位置计算错误。</p>
</li>
</ol>
<h4 id="示例代码-10"><a href="#示例代码-10" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/QAwRn6m86tYu" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">bindblur</span>=<span class="string">"bindTextAreaBlur"</span> <span class="attr">auto-height</span> <span class="attr">placeholder</span>=<span class="string">"自动变高"</span> /&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">placeholder</span>=<span class="string">"placeholder颜色是红色的"</span> <span class="attr">placeholder-style</span>=<span class="string">"color:red;"</span>  /&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">placeholder</span>=<span class="string">"这是一个可以自动聚焦的textarea"</span> <span class="attr">auto-focus</span> /&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">placeholder</span>=<span class="string">"这个只有在按钮点击的时候才聚焦"</span> <span class="attr">focus</span>=<span class="string">"&#123;&#123;focus&#125;&#125;"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"btn-area"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">"bindButtonTap"</span>&gt;</span>使得输入框获取焦点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">bindsubmit</span>=<span class="string">"bindFormSubmit"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">placeholder</span>=<span class="string">"form 中的 textarea"</span> <span class="attr">name</span>=<span class="string">"textarea"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">form-type</span>=<span class="string">"submit"</span>&gt;</span> 提交 <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//textarea.jsPage(&#123;</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    height: <span class="number">20</span>,</span><br><span class="line">    focus: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  bindButtonTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      focus: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  bindTextAreaBlur: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.detail.value)</span><br><span class="line">  &#125;,</span><br><span class="line">  bindFormSubmit: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.detail.value.textarea)</span><br><span class="line">  &#125;&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>练习：</strong></p>
<img src="http://photo.wushaopei.com/qiniu653.png" width="100%">

<hr>
<h3 id="导航标签与传值"><a href="#导航标签与传值" class="headerlink" title="导航标签与传值"></a>导航标签与传值</h3><h4 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a><strong>navigator</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>页面链接。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>target</td>
<td>string</td>
<td>self</td>
<td>否</td>
<td>在哪个目标上发生跳转，默认当前小程序</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td></td>
<td>否</td>
<td>当前小程序内的跳转链接</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>open-type</td>
<td>string</td>
<td>navigate</td>
<td>否</td>
<td>跳转方式</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>delta</td>
<td>number</td>
<td>1</td>
<td>否</td>
<td>当 open-type 为 ‘navigateBack’ 时有效，表示回退的层数</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>app-id</td>
<td>string</td>
<td></td>
<td>否</td>
<td>当target=”miniProgram”时有效，要打开的小程序 appId</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>path</td>
<td>string</td>
<td></td>
<td>否</td>
<td>当target=”miniProgram”时有效，打开的页面路径，如果为空则打开首页</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>extra-data</td>
<td>object</td>
<td></td>
<td>否</td>
<td>当target=”miniProgram”时有效，需要传递给目标小程序的数据，目标小程序可在 App.onLaunch()，App.onShow() 中获取到这份数据。<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html" target="_blank" rel="noopener">详情</a></td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>release</td>
<td>否</td>
<td>当target=”miniProgram”时有效，要打开的小程序版本</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>hover-class</td>
<td>string</td>
<td>navigator-hover</td>
<td>否</td>
<td>指定点击时的样式类，当hover-class=”none”时，没有点击态效果</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>hover-stop-propagation</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>指定是否阻止本节点的祖先节点出现点击态</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>hover-start-time</td>
<td>number</td>
<td>50</td>
<td>否</td>
<td>按住后多久出现点击态，单位毫秒</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>hover-stay-time</td>
<td>number</td>
<td>600</td>
<td>否</td>
<td>手指松开后点击态保留时间，单位毫秒</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindsuccess</td>
<td>string</td>
<td></td>
<td>否</td>
<td>当target=”miniProgram”时有效，跳转小程序成功</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>bindfail</td>
<td>string</td>
<td></td>
<td>否</td>
<td>当target=”miniProgram”时有效，跳转小程序失败</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
<tr>
<td>bindcomplete</td>
<td>string</td>
<td></td>
<td>否</td>
<td>当target=”miniProgram”时有效，跳转小程序完成</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.0.7</a></td>
</tr>
</tbody></table>
<p><strong>target 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>self</td>
<td>当前小程序</td>
<td></td>
</tr>
<tr>
<td>miniProgram</td>
<td>其它小程序</td>
<td></td>
</tr>
</tbody></table>
<p><strong>open-type 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>navigate</td>
<td>对应 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html" target="_blank" rel="noopener">wx.navigateTo</a> 或 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/miniprogram-navigate/wx.navigateToMiniProgram.html" target="_blank" rel="noopener">wx.navigateToMiniProgram</a> 的功能</td>
<td></td>
</tr>
<tr>
<td>redirect</td>
<td>对应 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html" target="_blank" rel="noopener">wx.redirectTo</a> 的功能</td>
<td></td>
</tr>
<tr>
<td>switchTab</td>
<td>对应 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html" target="_blank" rel="noopener">wx.switchTab</a> 的功能</td>
<td></td>
</tr>
<tr>
<td>reLaunch</td>
<td>对应 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.reLaunch.html" target="_blank" rel="noopener">wx.reLaunch</a> 的功能</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.1.0</a></td>
</tr>
<tr>
<td>navigateBack</td>
<td>对应 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateBack.html" target="_blank" rel="noopener">wx.navigateBack</a> 的功能</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.1.0</a></td>
</tr>
<tr>
<td>exit</td>
<td>退出小程序，target=”miniProgram”时生效</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.1.0</a></td>
</tr>
</tbody></table>
<p><strong>version 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>develop</td>
<td>开发版</td>
<td></td>
</tr>
<tr>
<td>trial</td>
<td>体验版</td>
<td></td>
</tr>
<tr>
<td>release</td>
<td>正式版，仅在当前小程序为开发版或体验版时此参数有效；如果当前小程序是正式版，则打开的小程序必定是正式版。</td>
<td></td>
</tr>
</tbody></table>
<h4 id="使用限制"><a href="#使用限制" class="headerlink" title="使用限制"></a><strong>使用限制</strong></h4><ol>
<li><p>需要用户确认跳转 从 2.3.0 版本开始，在跳转至其他小程序前，将统一增加弹窗，询问是否跳转，用户确认后才可以跳转其他小程序。如果用户点击取消，则回调 fail cancel。</p>
</li>
<li><p>每个小程序可跳转的其他小程序数量限制为不超过 10 个 从 2.4.0 版本以及指定日期（具体待定）开始，开发者提交新版小程序代码时，如使用了跳转其他小程序功能，则需要在代码配置中声明将要跳转的小程序名单，限定不超过 10 个，否则将无法通过审核。该名单可在发布新版时更新，不支持动态修改。配置方法详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html" target="_blank" rel="noopener">配置</a>。调用此接口时，所跳转的 appId 必须在配置列表中，否则回调 fail appId “${appId}” is not in navigateToMiniProgramAppIdList。</p>
</li>
</ol>
<h4 id="关于调试"><a href="#关于调试" class="headerlink" title="关于调试"></a><strong>关于调试</strong></h4><p>· 在开发者工具上调用此 API 并不会真实的跳转到另外的小程序，但是开发者工具会校验本次调用跳转是否成功。<a href="#%E8%B7%B3%E8%BD%AC%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95%E6%94%AF%E6%8C%81">详情</a></p>
<p>· 开发者工具上支持被跳转的小程序处理接收参数的调试。<a href="#%E8%B7%B3%E8%BD%AC%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95%E6%94%AF%E6%8C%81">详情</a></p>
<h4 id="Bug-amp-Tip-5"><a href="#Bug-amp-Tip-5" class="headerlink" title="Bug &amp; Tip"></a><strong>Bug &amp; Tip</strong></h4><ol>
<li>tip：navigator-hover 默认为 {background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}, <a href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html" target="_blank" rel="noopener">navigator</a> 的子节点背景色应为透明色</li>
</ol>
<h4 id="示例代码-11"><a href="#示例代码-11" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/2Ec11cmI6BY1" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/nav/page2/page2.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>pages/nav/page2/page2.wxml<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>这是第2页<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"../page3/page3"</span>&gt;</span>跳转到第3页<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">open-type</span>=<span class="string">"navigateBack"</span> &gt;</span>返回<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--pages/nav/page3/page3.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>pages/nav/page3/page3.wxml<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>这是第3页<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"../page2/page2"</span>&gt;</span>返回<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">"../page1/page1"</span>&gt;</span>跳转到第1页<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">open-type</span>=<span class="string">"navigateBack"</span>&gt;</span>返回<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/nav/page2/page2.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 页面的初始数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    data: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(options)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu654.png" width="100%">

<hr>
<h3 id="image图片组件"><a href="#image图片组件" class="headerlink" title="image图片组件"></a>image图片组件</h3><ul>
<li><p>audio</p>
</li>
<li><p>image</p>
</li>
<li><p>video </p>
</li>
<li><p>camera</p>
</li>
<li><p>live-player</p>
</li>
<li><p>live-pusher</p>
</li>
</ul>
<h4 id="image"><a href="#image" class="headerlink" title="image"></a><strong>image</strong></h4><p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>图片。支持 JPG、PNG、SVG、WEBP、GIF 等格式，<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.3.0</a> 起支持云文件ID。</p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>src</td>
<td>string</td>
<td></td>
<td>否</td>
<td>图片资源地址</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>scaleToFill</td>
<td>否</td>
<td>图片裁剪、缩放的模式</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>webp</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>默认不解析 webP 格式，只支持网络资源</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.9.0</a></td>
</tr>
<tr>
<td>lazy-load</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>图片懒加载，在即将进入一定范围（上下三屏）时才开始加载</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.5.0</a></td>
</tr>
<tr>
<td>show-menu-by-longpress</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>开启长按图片显示识别小程序码菜单</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.7.0</a></td>
</tr>
<tr>
<td>binderror</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>当错误发生时触发，event.detail = {errMsg}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
<tr>
<td>bindload</td>
<td>eventhandle</td>
<td></td>
<td>否</td>
<td>当图片载入完毕时触发，event.detail = {height, width}</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.0.0</a></td>
</tr>
</tbody></table>
<p><strong>mode 的合法值</strong></p>
<table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>scaleToFill</td>
<td>缩放模式，不保持纵横比缩放图片，使图片的宽高完全拉伸至填满 image 元素</td>
<td></td>
</tr>
<tr>
<td>aspectFit</td>
<td>缩放模式，保持纵横比缩放图片，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来。</td>
<td></td>
</tr>
<tr>
<td>aspectFill</td>
<td>缩放模式，保持纵横比缩放图片，只保证图片的短边能完全显示出来。也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生截取。</td>
<td></td>
</tr>
<tr>
<td>widthFix</td>
<td>缩放模式，宽度不变，高度自动变化，保持原图宽高比不变</td>
<td></td>
</tr>
<tr>
<td>heightFix</td>
<td>缩放模式，高度不变，宽度自动变化，保持原图宽高比不变</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.10.3</a></td>
</tr>
<tr>
<td>top</td>
<td>裁剪模式，不缩放图片，只显示图片的顶部区域</td>
<td></td>
</tr>
<tr>
<td>bottom</td>
<td>裁剪模式，不缩放图片，只显示图片的底部区域</td>
<td></td>
</tr>
<tr>
<td>center</td>
<td>裁剪模式，不缩放图片，只显示图片的中间区域</td>
<td></td>
</tr>
<tr>
<td>left</td>
<td>裁剪模式，不缩放图片，只显示图片的左边区域</td>
<td></td>
</tr>
<tr>
<td>right</td>
<td>裁剪模式，不缩放图片，只显示图片的右边区域</td>
<td></td>
</tr>
<tr>
<td>top left</td>
<td>裁剪模式，不缩放图片，只显示图片的左上边区域</td>
<td></td>
</tr>
<tr>
<td>top right</td>
<td>裁剪模式，不缩放图片，只显示图片的右上边区域</td>
<td></td>
</tr>
<tr>
<td>bottom left</td>
<td>裁剪模式，不缩放图片，只显示图片的左下边区域</td>
<td></td>
</tr>
<tr>
<td>bottom right</td>
<td>裁剪模式，不缩放图片，只显示图片的右下边区域</td>
<td></td>
</tr>
</tbody></table>
<h4 id="Bug-amp-Tip-6"><a href="#Bug-amp-Tip-6" class="headerlink" title="Bug &amp; Tip"></a><strong>Bug &amp; Tip</strong></h4><ol>
<li><p>tip：image组件默认宽度300px、高度240px</p>
</li>
<li><p>tip：image组件中二维码/小程序码图片不支持长按识别。仅在wx.previewImage中支持长按识别</p>
</li>
</ol>
<h4 id="示例代码-12"><a href="#示例代码-12" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><p><a href="https://developers.weixin.qq.com/s/3Kcaatmc7Z5s" target="_blank" rel="noopener">在开发者工具中预览效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/image/image.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;array&#125;&#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;src&#125;&#125;"</span> <span class="attr">mode</span>=<span class="string">"&#123;&#123;item.mode&#125;&#125;"</span> <span class="attr">lazy-load</span>=<span class="string">"&#123;&#123;false&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"width:200px;height:200px"</span> <span class="attr">bindload</span>=<span class="string">"load"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/image/image.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 页面的初始数据</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">data: &#123;</span><br><span class="line">array: [&#123;</span><br><span class="line">mode: <span class="string">'scaleToFill'</span>,</span><br><span class="line">text: <span class="string">'scaleToFill：不保持纵横比缩放图片，使图片完全适应'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'aspectFit'</span>,</span><br><span class="line">text: <span class="string">'aspectFit：保持纵横比缩放图片，使图片的长边能完全显示出来'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'aspectFill'</span>,</span><br><span class="line">text: <span class="string">'aspectFill：保持纵横比缩放图片，只保证图片的短边能完全显示出来'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'top'</span>,</span><br><span class="line">text: <span class="string">'top：不缩放图片，只显示图片的顶部区域'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'bottom'</span>,</span><br><span class="line">text: <span class="string">'bottom：不缩放图片，只显示图片的底部区域'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'center'</span>,</span><br><span class="line">text: <span class="string">'center：不缩放图片，只显示图片的中间区域'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'left'</span>,</span><br><span class="line">text: <span class="string">'left：不缩放图片，只显示图片的左边区域'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'right'</span>,</span><br><span class="line">text: <span class="string">'right：不缩放图片，只显示图片的右边边区域'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'top left'</span>,</span><br><span class="line">text: <span class="string">'top left：不缩放图片，只显示图片的左上边区域'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'top right'</span>,</span><br><span class="line">text: <span class="string">'top right：不缩放图片，只显示图片的右上边区域'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'bottom left'</span>,</span><br><span class="line">text: <span class="string">'bottom left：不缩放图片，只显示图片的左下边区域'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">mode: <span class="string">'bottom right'</span>,</span><br><span class="line">text: <span class="string">'bottom right：不缩放图片，只显示图片的右下边区域'</span></span><br><span class="line">&#125;],</span><br><span class="line">src: <span class="string">"https://res.wx.qq.com/wxdoc/dist/assets/img/0.4cb08bb4.jpg"</span></span><br><span class="line">&#125;,</span><br><span class="line">load: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log( e.detail)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="小程序与后端通信-内网穿透"><a href="#小程序与后端通信-内网穿透" class="headerlink" title="小程序与后端通信 - 内网穿透"></a>小程序与后端通信 - 内网穿透</h3><p><strong>小程序不能直接访问后台接口</strong></p>
<ul>
<li><p>通过内网穿透实现暴露到公网</p>
</li>
<li><p>工具 : ngrok      ngrok.com/</p>
<p><a href="https://ngrok.com/download" target="_blank" rel="noopener">https://ngrok.com/download</a></p>
</li>
</ul>
<p>使用教程： <a href="https://blog.csdn.net/xyy731121463/article/details/95019597" target="_blank" rel="noopener">https://blog.csdn.net/xyy731121463/article/details/95019597</a></p>
<hr>
<h3 id="小程序与后端通信-wx-request使用"><a href="#小程序与后端通信-wx-request使用" class="headerlink" title="小程序与后端通信 - wx.request使用"></a>小程序与后端通信 - wx.request使用</h3><h4 id="RequestTask-wx-request-Object-object"><a href="#RequestTask-wx-request-Object-object" class="headerlink" title="RequestTask wx.request(Object object)"></a><a href="https://developers.weixin.qq.com/miniprogram/dev/api/network/request/RequestTask.html" target="_blank" rel="noopener">RequestTask</a> <strong>wx.request(Object object)</strong></h4><p>发起 HTTPS 网络请求。使用前请注意阅读<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/ability/network.html" target="_blank" rel="noopener">相关说明</a>。</p>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a><strong>参数</strong></h4><h5 id="Object-object"><a href="#Object-object" class="headerlink" title="Object object"></a><strong>Object object</strong></h5><table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>默认值</strong></th>
<th><strong>必填</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>url</td>
<td>string</td>
<td></td>
<td>是</td>
<td>开发者服务器接口地址</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>string/object/ArrayBuffer</td>
<td></td>
<td>否</td>
<td>请求的参数</td>
<td></td>
</tr>
<tr>
<td>header</td>
<td>Object</td>
<td></td>
<td>否</td>
<td>设置请求的 header，header 中不能设置 Referer。 content-type 默认为 application/json</td>
<td></td>
</tr>
<tr>
<td>timeout</td>
<td>number</td>
<td></td>
<td>否</td>
<td>超时时间，单位为毫秒</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.10.0</a></td>
</tr>
<tr>
<td>method</td>
<td>string</td>
<td>GET</td>
<td>否</td>
<td>HTTP 请求方法</td>
<td></td>
</tr>
<tr>
<td>dataType</td>
<td>string</td>
<td>json</td>
<td>否</td>
<td>返回的数据格式</td>
<td></td>
</tr>
<tr>
<td>responseType</td>
<td>string</td>
<td>text</td>
<td>否</td>
<td>响应的数据类型</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.7.0</a></td>
</tr>
<tr>
<td>enableHttp2</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>开启 http2</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.10.4</a></td>
</tr>
<tr>
<td>enableQuic</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>开启 quic</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.10.4</a></td>
</tr>
<tr>
<td>enableCache</td>
<td>boolean</td>
<td>false</td>
<td>否</td>
<td>开启 cache</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.10.4</a></td>
</tr>
<tr>
<td>success</td>
<td>function</td>
<td></td>
<td>否</td>
<td>接口调用成功的回调函数</td>
<td></td>
</tr>
<tr>
<td>fail</td>
<td>function</td>
<td></td>
<td>否</td>
<td>接口调用失败的回调函数</td>
<td></td>
</tr>
<tr>
<td>complete</td>
<td>function</td>
<td></td>
<td>否</td>
<td>接口调用结束的回调函数（调用成功、失败都会执行）</td>
<td></td>
</tr>
</tbody></table>
<h5 id="object-method-的合法值"><a href="#object-method-的合法值" class="headerlink" title="object.method 的合法值"></a><strong>object.method 的合法值</strong></h5><table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>OPTIONS</td>
<td>HTTP 请求 OPTIONS</td>
<td></td>
</tr>
<tr>
<td>GET</td>
<td>HTTP 请求 GET</td>
<td></td>
</tr>
<tr>
<td>HEAD</td>
<td>HTTP 请求 HEAD</td>
<td></td>
</tr>
<tr>
<td>POST</td>
<td>HTTP 请求 POST</td>
<td></td>
</tr>
<tr>
<td>PUT</td>
<td>HTTP 请求 PUT</td>
<td></td>
</tr>
<tr>
<td>DELETE</td>
<td>HTTP 请求 DELETE</td>
<td></td>
</tr>
<tr>
<td>TRACE</td>
<td>HTTP 请求 TRACE</td>
<td></td>
</tr>
<tr>
<td>CONNECT</td>
<td>HTTP 请求 CONNECT</td>
<td></td>
</tr>
</tbody></table>
<h5 id="object-dataType-的合法值"><a href="#object-dataType-的合法值" class="headerlink" title="object.dataType 的合法值"></a><strong>object.dataType 的合法值</strong></h5><table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>json</td>
<td>返回的数据为 JSON，返回后会对返回的数据进行一次 JSON.parse</td>
<td></td>
</tr>
<tr>
<td>其他</td>
<td>不对返回的内容进行 JSON.parse</td>
<td></td>
</tr>
</tbody></table>
<h5 id="object-responseType-的合法值"><a href="#object-responseType-的合法值" class="headerlink" title="object.responseType 的合法值"></a><strong>object.responseType 的合法值</strong></h5><table>
<thead>
<tr>
<th><strong>值</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>响应的数据为文本</td>
<td></td>
</tr>
<tr>
<td>arraybuffer</td>
<td>响应的数据为 ArrayBuffer</td>
<td></td>
</tr>
</tbody></table>
<h5 id="object-success-回调函数"><a href="#object-success-回调函数" class="headerlink" title="object.success 回调函数"></a><strong>object.success 回调函数</strong></h5><p><strong>参数</strong></p>
<h6 id="Object-res"><a href="#Object-res" class="headerlink" title="Object res"></a><strong>Object res</strong></h6><table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>说明</strong></th>
<th><strong>最低版本</strong></th>
</tr>
</thead>
<tbody><tr>
<td>data</td>
<td>string/Object/Arraybuffer</td>
<td>开发者服务器返回的数据</td>
<td></td>
</tr>
<tr>
<td>statusCode</td>
<td>number</td>
<td>开发者服务器返回的 HTTP 状态码</td>
<td></td>
</tr>
<tr>
<td>header</td>
<td>Object</td>
<td>开发者服务器返回的 HTTP Response Header</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">1.2.0</a></td>
</tr>
<tr>
<td>cookies</td>
<td>Array.<string></td>
<td>开发者服务器返回的 cookies，格式为字符串数组</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.10.0</a></td>
</tr>
<tr>
<td>profile</td>
<td>Object</td>
<td>网络请求过程中一些调试信息</td>
<td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">2.10.4</a></td>
</tr>
</tbody></table>
<p><strong>res.profile 的结构</strong></p>
<table>
<thead>
<tr>
<th><strong>属性</strong></th>
<th><strong>类型</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>redirectStart</td>
<td>number</td>
<td>第一个 HTTP 重定向发生时的时间。有跳转且是同域名内的重定向才算，否则值为 0</td>
</tr>
<tr>
<td>redirectEnd</td>
<td>number</td>
<td>最后一个 HTTP 重定向完成时的时间。有跳转且是同域名内部的重定向才算，否则值为 0</td>
</tr>
<tr>
<td>fetchStart</td>
<td>number</td>
<td>组件准备好使用 HTTP 请求抓取资源的时间，这发生在检查本地缓存之前</td>
</tr>
<tr>
<td>domainLookupStart</td>
<td>number</td>
<td>DNS 域名查询开始的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等</td>
</tr>
<tr>
<td>domainLookupEnd</td>
<td>number</td>
<td>DNS 域名查询完成的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等</td>
</tr>
<tr>
<td>connectStart</td>
<td>number</td>
<td>HTTP（TCP） 开始建立连接的时间，如果是持久连接，则与 fetchStart 值相等。注意如果在传输层发生了错误且重新建立连接，则这里显示的是新建立的连接开始的时间</td>
</tr>
<tr>
<td>connectEnd</td>
<td>number</td>
<td>HTTP（TCP） 完成建立连接的时间（完成握手），如果是持久连接，则与 fetchStart 值相等。注意如果在传输层发生了错误且重新建立连接，则这里显示的是新建立的连接完成的时间。注意这里握手结束，包括安全连接建立完成、SOCKS 授权通过</td>
</tr>
<tr>
<td>SSLconnectionStart</td>
<td>number</td>
<td>SSL建立连接的时间,如果不是安全连接,则值为 0</td>
</tr>
<tr>
<td>SSLconnectionEnd</td>
<td>number</td>
<td>SSL建立完成的时间,如果不是安全连接,则值为 0</td>
</tr>
<tr>
<td>requestStart</td>
<td>number</td>
<td>HTTP请求读取真实文档开始的时间（完成建立连接），包括从本地读取缓存。连接错误重连时，这里显示的也是新建立连接的时间</td>
</tr>
<tr>
<td>requestEnd</td>
<td>number</td>
<td>HTTP请求读取真实文档结束的时间</td>
</tr>
<tr>
<td>responseStart</td>
<td>number</td>
<td>HTTP 开始接收响应的时间（获取到第一个字节），包括从本地读取缓存</td>
</tr>
<tr>
<td>responseEnd</td>
<td>number</td>
<td>HTTP 响应全部接收完成的时间（获取到最后一个字节），包括从本地读取缓存</td>
</tr>
<tr>
<td>rtt</td>
<td>number</td>
<td>当次请求连接过程中实时 rtt</td>
</tr>
<tr>
<td>estimate_nettype</td>
<td>string</td>
<td>评估的网络状态 slow 2g/2g/3g/4g</td>
</tr>
<tr>
<td>httpRttEstimate</td>
<td>number</td>
<td>协议层根据多个请求评估当前网络的 rtt（仅供参考）</td>
</tr>
<tr>
<td>transportRttEstimate</td>
<td>number</td>
<td>传输层根据多个请求评估的当前网络的 rtt（仅供参考）</td>
</tr>
<tr>
<td>downstreamThroughputKbpsEstimate</td>
<td>number</td>
<td>评估当前网络下载的kbps</td>
</tr>
<tr>
<td>throughputKbps</td>
<td>number</td>
<td>当前网络的实际下载kbps</td>
</tr>
<tr>
<td>peerIP</td>
<td>string</td>
<td>当前请求的IP</td>
</tr>
<tr>
<td>port</td>
<td>number</td>
<td>当前请求的端口</td>
</tr>
<tr>
<td>socketReused</td>
<td>boolean</td>
<td>是否复用连接</td>
</tr>
<tr>
<td>sendBytesCount</td>
<td>number</td>
<td>发送的字节数</td>
</tr>
<tr>
<td>receivedBytedCount</td>
<td>number</td>
<td>收到字节数</td>
</tr>
</tbody></table>
<h4 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a><strong>返回值</strong></h4><h4 id="RequestTask"><a href="#RequestTask" class="headerlink" title="RequestTask"></a><a href="https://developers.weixin.qq.com/miniprogram/dev/api/network/request/RequestTask.html" target="_blank" rel="noopener">RequestTask</a></h4><p>基础库 1.4.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener">兼容处理</a>。</p>
<p>请求任务对象</p>
<h4 id="data-参数说明"><a href="#data-参数说明" class="headerlink" title="data 参数说明"></a><strong>data 参数说明</strong></h4><p>最终发送给服务器的数据是 String 类型，如果传入的 data 不是 String 类型，会被转换成 String 。转换规则如下：</p>
<ul>
<li>对于 GET 方法的数据，会将数据转换成 query string（encodeURIComponent(k)=encodeURIComponent(v)&amp;encodeURIComponent(k)=encodeURIComponent(v)…）</li>
<li>对于 POST 方法且 header[‘content-type’] 为 application/json 的数据，会对数据进行 JSON 序列化</li>
<li>对于 POST 方法且 header[‘content-type’] 为 application/x-www-form-urlencoded 的数据，会将数据转换成 query string （encodeURIComponent(k) = encodeURIComponent(v) &amp; encodeURIComponent(k)=encodeURIComponent(v)…）</li>
</ul>
<h4 id="示例代码-13"><a href="#示例代码-13" class="headerlink" title="示例代码"></a><strong>示例代码</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/requestInterface/requestInterface.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 页面的初始数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    data: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    clickme: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        wx.request(&#123;</span><br><span class="line">        url: <span class="string">'http://m3hfuc.natappfree.cc/info'</span>, </span><br><span class="line">        data: &#123;</span><br><span class="line">            id: <span class="number">1001</span>,</span><br><span class="line">            name: <span class="string">"慕课网"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        header: &#123;</span><br><span class="line">        	<span class="string">'content-type'</span>: <span class="string">'application/json'</span> </span><br><span class="line">        &#125;,</span><br><span class="line">        success(res) &#123;</span><br><span class="line">      	  <span class="built_in">console</span>.log(res.data)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/requestInterface/requestInterface.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">"clickme"</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/info"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> JsonResult  <span class="title">hello2</span><span class="params">(Info info)</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	System.out.print(info.toString());</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> JsonResult(<span class="number">1</span>,<span class="string">"ok"</span>,info);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.webcode.springboot.util;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> JsonResult.java</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> wushaopei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020年5月14日</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用于封装服务器到客户端的Json返回值</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> soft01</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsonResult</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Serializable将对象的状态保存在存储媒体中以便可以在以后重新创建出完全相同的副本</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SUCCESS=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ERROR=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> OTHER=<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> state;</span><br><span class="line">    <span class="keyword">private</span> String message = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line">    <span class="keyword">private</span> String pass=<span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JsonResult</span><span class="params">()</span></span>&#123;</span><br><span class="line">        state = SUCCESS;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//为了方便，重载n个构造器</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JsonResult</span><span class="params">(<span class="keyword">int</span> state, String message, T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.state = state;</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JsonResult</span><span class="params">(<span class="keyword">int</span> state,String error)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(state,error,<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JsonResult</span><span class="params">(<span class="keyword">int</span> state,T data)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(state,<span class="string">""</span>,data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JsonResult</span><span class="params">(String error)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(ERROR,error,<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JsonResult</span><span class="params">(T data)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(SUCCESS,<span class="string">""</span>,data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JsonResult</span><span class="params">(<span class="keyword">int</span> state)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(state,<span class="string">""</span>,<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JsonResult</span><span class="params">(Throwable e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(ERROR,e.getMessage(),<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getSuccess</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SUCCESS;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getError</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ERROR;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"JsonResult [state="</span> + state + <span class="string">", message="</span> + message + <span class="string">", pass="</span> + pass + <span class="string">", data="</span> + data + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Info</span> </span>&#123;	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> String name;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="http://photo.wushaopei.com/qiniu666.png" width="80%">

<h4 id="关注橘长的微信公众号，获取有趣文章"><a href="#关注橘长的微信公众号，获取有趣文章" class="headerlink" title="关注橘长的微信公众号，获取有趣文章"></a>关注橘长的微信公众号，获取有趣文章</h4><p><img src="http://photo.wushaopei.com/weixinbanner.jpg " alt="公共号"></p>


      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    吴少培
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://blog.wushaopei.com/2020/05/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%88%E4%B8%89%EF%BC%89form%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/" title="微信小程序（三）form表单组件">http://blog.wushaopei.com/2020/05/14/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%88%E4%B8%89%EF%BC%89form%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/hide/" rel="tag"> <i class="fa fa-tag"></i> hide</a>
          
            <a href="/tags/button/" rel="tag"> <i class="fa fa-tag"></i> button</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/05/13/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%EF%BC%88%E4%BA%8C%EF%BC%89%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/" rel="next" title="微信小程序（二）微信小程序的基础组件">
                <i class="fa fa-chevron-left"></i> 微信小程序（二）微信小程序的基础组件
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/05/15/MySQL%EF%BC%88%E5%85%AD%EF%BC%89%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE/" rel="prev" title="MySQL（六）过滤数据">
                MySQL（六）过滤数据 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
    <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
    <a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
    <a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
    <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a class="bds_count" data-cmd="count"></a>
  </div>
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "2",
        "bdMiniList": false,
        "bdPic": ""
      },
      "share": {
        "bdSize": "16",
        "bdStyle": "0"
      },
      "image": {
        "viewList": ["tsina", "douban", "sqq", "qzone", "weixin", "twi", "fbook"],
        "viewText": "分享到：",
        "viewSize": "16"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="your uid"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>


  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/avatar.png"
                alt="吴少培" />
            
              <p class="site-author-name" itemprop="name">吴少培</p>
              <p class="site-description motion-element" itemprop="description">冗长的黑暗中,你是我唯一的光。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">287</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">241</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          
        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#form组件"><span class="nav-number">1.</span> <span class="nav-text">form组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#from-组件-button-的使用"><span class="nav-number">1.1.</span> <span class="nav-text">from 组件 - button 的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#button"><span class="nav-number">1.1.1.</span> <span class="nav-text">button</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bug-amp-Tip"><span class="nav-number">1.1.2.</span> <span class="nav-text">Bug &amp; Tip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码"><span class="nav-number">1.1.3.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-checkbox-与-lable"><span class="nav-number">1.2.</span> <span class="nav-text">form 组件 -  checkbox 与 lable</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#checkbox-group"><span class="nav-number">1.2.1.</span> <span class="nav-text">checkbox-group</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#checkbox"><span class="nav-number">1.2.2.</span> <span class="nav-text">checkbox</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#示例代码-1"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#label"><span class="nav-number">1.2.3.</span> <span class="nav-text">label</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#示例代码-2"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">示例代码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form的提交和重置"><span class="nav-number">1.3.</span> <span class="nav-text">form的提交和重置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#form"><span class="nav-number">1.3.1.</span> <span class="nav-text">form</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-3"><span class="nav-number">1.3.2.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-input-文本框（上）"><span class="nav-number">1.4.</span> <span class="nav-text">form 组件 - input 文本框（上）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#input"><span class="nav-number">1.4.1.</span> <span class="nav-text">input</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bug-amp-Tip-1"><span class="nav-number">1.4.2.</span> <span class="nav-text">Bug &amp; Tip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-4"><span class="nav-number">1.4.3.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-input-文本框（下）"><span class="nav-number">1.5.</span> <span class="nav-text">form 组件 - input 文本框（下）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-picker-普通选择器"><span class="nav-number">1.6.</span> <span class="nav-text">form 组件 - picker 普通选择器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#picker"><span class="nav-number">1.6.1.</span> <span class="nav-text">picker</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#普通选择器：mode-selector"><span class="nav-number">1.6.2.</span> <span class="nav-text">普通选择器：mode &#x3D; selector</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#多列选择器：mode-multiSelector"><span class="nav-number">1.6.3.</span> <span class="nav-text">多列选择器：mode &#x3D; multiSelector</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#时间选择器：mode-time"><span class="nav-number">1.6.4.</span> <span class="nav-text">时间选择器：mode &#x3D; time</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#日期选择器：mode-date"><span class="nav-number">1.6.5.</span> <span class="nav-text">日期选择器：mode &#x3D; date</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#省市区选择器：mode-region-1-4-0"><span class="nav-number">1.6.6.</span> <span class="nav-text">省市区选择器：mode &#x3D; region 1.4.0</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-5"><span class="nav-number">1.6.7.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-picker-多列选择器"><span class="nav-number">1.7.</span> <span class="nav-text">form 组件 -  picker 多列选择器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-picker-view"><span class="nav-number">1.8.</span> <span class="nav-text">form 组件 - picker-view</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#picker-view"><span class="nav-number">1.8.1.</span> <span class="nav-text">picker-view</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bug-amp-Tip-2"><span class="nav-number">1.8.2.</span> <span class="nav-text">Bug &amp; Tip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-6"><span class="nav-number">1.8.3.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-radio-单选框"><span class="nav-number">1.9.</span> <span class="nav-text">form 组件 -  radio 单选框</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#radio-group"><span class="nav-number">1.9.1.</span> <span class="nav-text">radio-group</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#radio"><span class="nav-number">1.9.2.</span> <span class="nav-text">radio</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-7"><span class="nav-number">1.9.3.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-slider-滑动选择器"><span class="nav-number">1.10.</span> <span class="nav-text">form 组件 - slider 滑动选择器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#slider"><span class="nav-number">1.10.1.</span> <span class="nav-text">slider</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-8"><span class="nav-number">1.10.2.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-switch-开关"><span class="nav-number">1.11.</span> <span class="nav-text">form 组件 - switch 开关</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#switch"><span class="nav-number">1.11.1.</span> <span class="nav-text">switch</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bug-amp-Tip-3"><span class="nav-number">1.11.2.</span> <span class="nav-text">Bug &amp; Tip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-9"><span class="nav-number">1.11.3.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#form-组件-textarea"><span class="nav-number">1.12.</span> <span class="nav-text">form 组件 - textarea</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#textarea"><span class="nav-number">1.12.1.</span> <span class="nav-text">textarea</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bug-amp-Tip-4"><span class="nav-number">1.12.2.</span> <span class="nav-text">Bug &amp; Tip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-10"><span class="nav-number">1.12.3.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#导航标签与传值"><span class="nav-number">1.13.</span> <span class="nav-text">导航标签与传值</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#navigator"><span class="nav-number">1.13.1.</span> <span class="nav-text">navigator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用限制"><span class="nav-number">1.13.2.</span> <span class="nav-text">使用限制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#关于调试"><span class="nav-number">1.13.3.</span> <span class="nav-text">关于调试</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bug-amp-Tip-5"><span class="nav-number">1.13.4.</span> <span class="nav-text">Bug &amp; Tip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-11"><span class="nav-number">1.13.5.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#image图片组件"><span class="nav-number">1.14.</span> <span class="nav-text">image图片组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#image"><span class="nav-number">1.14.1.</span> <span class="nav-text">image</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bug-amp-Tip-6"><span class="nav-number">1.14.2.</span> <span class="nav-text">Bug &amp; Tip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-12"><span class="nav-number">1.14.3.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#小程序与后端通信-内网穿透"><span class="nav-number">1.15.</span> <span class="nav-text">小程序与后端通信 - 内网穿透</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#小程序与后端通信-wx-request使用"><span class="nav-number">1.16.</span> <span class="nav-text">小程序与后端通信 - wx.request使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#RequestTask-wx-request-Object-object"><span class="nav-number">1.16.1.</span> <span class="nav-text">RequestTask wx.request(Object object)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#参数"><span class="nav-number">1.16.2.</span> <span class="nav-text">参数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Object-object"><span class="nav-number">1.16.2.1.</span> <span class="nav-text">Object object</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#object-method-的合法值"><span class="nav-number">1.16.2.2.</span> <span class="nav-text">object.method 的合法值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#object-dataType-的合法值"><span class="nav-number">1.16.2.3.</span> <span class="nav-text">object.dataType 的合法值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#object-responseType-的合法值"><span class="nav-number">1.16.2.4.</span> <span class="nav-text">object.responseType 的合法值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#object-success-回调函数"><span class="nav-number">1.16.2.5.</span> <span class="nav-text">object.success 回调函数</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Object-res"><span class="nav-number">1.16.2.5.1.</span> <span class="nav-text">Object res</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#返回值"><span class="nav-number">1.16.3.</span> <span class="nav-text">返回值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RequestTask"><span class="nav-number">1.16.4.</span> <span class="nav-text">RequestTask</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#data-参数说明"><span class="nav-number">1.16.5.</span> <span class="nav-text">data 参数说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例代码-13"><span class="nav-number">1.16.6.</span> <span class="nav-text">示例代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#关注橘长的微信公众号，获取有趣文章"><span class="nav-number">1.16.7.</span> <span class="nav-text">关注橘长的微信公众号，获取有趣文章</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
   
     <div id="music163player">
		<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=864187808&auto=1&height=66"></iframe>
     </div>
	 

  </aside>


        
      </div>
      <script>
//暂时储存文章中的内容
var div = $('.post-body');
//暂时储存目录的内容
var toc=$('.post-toc-wrap')
function password() {
  if('xiaochengxu'){
  //将文章内容删除
    div.remove();
 //将目录删除 
    toc.remove();
  //将文章删除后，向原来文章的地方添加，应该出现的提示用户输入密码的样式
  //下面这里的第一个用textarea是因为如果在手机端的时候只能显示一部分文字，
  //只是拓展:input里面的字只能显示一行，不会自动换行，目前上网搜索没有发现好的办法，所以用了textarea，右下角的小三角通过resize:none 去掉。
   $('.post-header').after('<textarea class="description" value="Please enter your password and press enter to build" style="border: none;display: block;' +'width: 60%;margin: 0 auto;text-align: center;outline: none;margin-bottom: 50px;resize:none ">
      Please enter your password and press enter to build</textarea>' +
      '<div class="qiang" style="height: 100px;width: 60%;margin:0 auto">' +
      '<input class="password"  type="text" value="" style="border: none;display: block;border-bottom: 1px solid #ccc;' +
      'margin: 0 auto;outline: none;width:95%"/>' +
      '</div>')
      //绑定点击事件，如果是点击的.password 这个div就改变样式，如果是document中除了div之外的其他任何元素，就变回原来的样式。
    document.onclick = function (event) {
      var e = event || window.event;
      var elem = e.srcElement || e.target;
 
      while (elem) {
        if (elem != document) {
          if (elem.className == "password") {
            $(".password").animate({paddingTop:"30px",width:"100%",borderWidth:"2px"},300)
            return;
          }
          elem = elem.parentNode;
        } else {
          $(".password").animate({paddingTop:"0px",width:"95%",borderWidth:"1px"},300)
          return;
        }
      }
    }
    //绑定enter键按下后离开的事件
    $(document).keyup(function(event){
      if(event.keyCode ==13&&$('.password').length>0){
        //console.log($('.password').val())
        //console.log('xiaochengxu')
        if ($('.password').val() == 'xiaochengxu') {
        //恢复文章内容
          (div).appendTo($(".post-header"))
          //恢复目录
          toc.appendTo($(".sidebar-inner"))
          //删除本页面的输入密码组件
           $(".description").remove();
          $(".qiang").remove();
          $(".password").remove();
          
          //重新处理pjax事件,如果没有加pjax的从下面这行起到下面的else之间的代码需要去掉。
          //图片懒加载，没有加入此功能的这个函数需要去掉
            $('img').lazyload({
               placeholder: '/images/loading.gif',
               effect: 'fadeIn',
               threshold : 100,
               failure_limit : 20,
               skip_invisible : false
             });
             //pjax后出现文章不显示，没有pjax的下面四行需要去掉
              $(".post-block").css({opacity:1});
              $(".post-header").css({opacity:1});
              $(".post-body").css({opacity:1});
              $(".pagination").css({opacity:1});
        }else {
          alert("Sorry, the password is wrong.")
        }
      }
      //将document的keyup移除，防止在pjax的情况下会重复绑定事件
    });
  }
}
password();
</script>
    </main>
    
    
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">吴少培</span>

  
</div>



 <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
 

<img src="https://static.dy208.cn/o_1dfilp8ruo521thr1hvf18ji17soa.png">
<a href="http://www.beian.miit.gov.cn/"  style="color:#f72b07" target="_blank">粤ICP备20015601号-1</a>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
  
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/xcss/valine@v1.1.7/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: true,
        appId: 'WUK5piFGYnLbMn2Iijr9JKqW-gzGzoHsz',
        appKey: 'sOUcJH2CX5V7BXA99NbRDn9B',
        placeholder: '说点什么吧',
        avatar:'mp',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("WUK5piFGYnLbMn2Iijr9JKqW-gzGzoHsz", "sOUcJH2CX5V7BXA99NbRDn9B");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  


</body>


</html>
